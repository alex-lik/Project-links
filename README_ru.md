# Project Links

Веб-приложение на базе Flask для управления и организации коллекций ссылок, сгруппированных по категориям. Включает админ-панель для настройки, аутентификации и параметров безопасности. Поддерживает развертывание через Ansible с опциями Docker или bare-metal.

## Функции

- **Управление ссылками**: Организация ссылок в настраиваемые группы с заголовками, описаниями и URL
- **Админ-панель**: Веб-интерфейс для управления группами, ссылками и настройками приложения
- **Аутентификация**: Защищенный паролем доступ к админке с управлением сессиями
- **Функции безопасности**:
  - Защита от CSRF
  - Ограничения по IP-адресам
  - Таймаут сессии (30 минут)
- **Кастомизация**: Настраиваемые цвета, шрифты, логотип и темы интерфейса
- **Хранение данных**: JSON-based хранение для легкого бэкапа и переносимости
- **Развертывание**: Ansible плейбуки для автоматизированного развертывания с Docker или bare-metal

## Философия дизайна

Проект специально делался максимально простым, без базы данных. Если нужна БД, можно либо сам подключить базу данных, либо связаться с автором и за деньги - возможны любые доработки.

## Структура проекта

- `app.py`: Основное Flask приложение
- `requirements.txt`: Python зависимости
- `templates/`: Шаблоны Jinja2
- `static/`: Статические ресурсы
- `data.json`: Хранение данных приложения
- `app/`: Docker файлы (Dockerfile, docker-compose.yml)
- `deploy/`: Ansible файлы развертывания (inventory.yml, playbook.yml)
- `.env`: Переменные окружения и секреты

## Установка

1. Клонируйте репозиторий:
   ```bash
   git clone https://github.com/alex-lik/project-links.git
   cd project-links
   ```

2. Установите зависимости:
   ```bash
   pip install -r requirements.txt
   ```

## Запуск приложения

### Разработка
Запустите сервер разработки:
```bash
python app.py
```
Приложение будет доступно по адресу `http://localhost:5000`

### Продакшн развертывание

#### Через Ansible
1. Обновите `.env` с вашими секретами и деталями сервера
2. Обновите `deploy/inventory.yml` при необходимости
3. Установите `use_docker: true` в `deploy/playbook.yml` для Docker развертывания или `false` для bare-metal
4. Запустите плейбук:
   ```bash
   cd deploy
   ansible-playbook -i inventory.yml playbook.yml
   ```

#### Через Docker Compose
```bash
cd app
docker-compose up -d
```

## Стандартные учетные данные
- **Логин**: admin
- **Пароль**: admin (измените после первого входа)

## Использование

### Публичный интерфейс
- Просмотр организованных ссылок по группам
- Клик по ссылкам для перехода на внешние сайты

### Админ-панель
Доступ к админ-панели по адресу `/admin` после входа в систему.

#### Управление группами
- Добавление новых групп с пользовательскими цветами фона
- Редактирование названий групп и цветов
- Удаление групп

#### Управление ссылками
- Добавление ссылок в группы с заголовком, URL и описанием
- Редактирование деталей ссылок
- Удаление ссылок

#### Настройки
- **Общие**: Заголовок, логотип, цвета, шрифты
- **Безопасность**: Включение аутентификации, установка ограничений по IP
- **Пароль**: Изменение пароля администратора

## Конфигурация

Настройки хранятся в `data.json`. Приложение автоматически создает настройки по умолчанию при первом запуске.

Ключевые параметры конфигурации:
- `auth_only`: Требовать аутентификацию для всех страниц
- `allowed_ips`: Список разрешенных IP-адресов
- `primary_color`, `hover_color` и т.д.: Кастомизация UI
- `password_hash`: Хэшированный пароль администратора

Переменные окружения в `.env`:
- `SECRET_KEY`: Секретный ключ Flask
- `SERVER_IP`: IP сервера для Ansible
- `SERVER_USER`: SSH пользователь для Ansible

## Вклад в проект

1. Форкните репозиторий
2. Создайте ветку для функции: `git checkout -b feature-name`
3. Внесите изменения и закоммитьте: `git commit -am 'Add feature'`
4. Отправьте в ветку: `git push origin feature-name`
5. Создайте pull request

## Лицензия

Этот проект лицензирован под MIT License - см. файл LICENSE для деталей.